>>> #### DELETINGS START HERE
... 
>>> 
>>> posting_to_delete = {
...     "url": "https://glacial-earth-31542.herokuapp.com/api/postings/2344/",
...     "id": 2344,
...     "user": 1,
...     "title": "Needs to be deleted",
...     "content": "slösihagh",
...     "timestamp": "2020-04-13T12:41:48.920914+03:00"
... }
>>> 
>>> DELETE_REQUEST_HEADERS = {
...   'Host': 'glacial-earth-31542.herokuapp.com',
...   'Connection': 'keep-alive',
...   'Origin': 'https://glacial-earth-31542.herokuapp.com',
...   'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
...   'Accept': 'text/html; q=1.0, */*',
...   'Sec-Fetch-Dest': 'empty',
...   'X-Requested-With': 'XMLHttpRequest',
...   'X-CSRFTOKEN': '## DYNAMIC CONTENT ##', # expects the csrfmiddleware token from put posting form
...   'Sec-Fetch-Site': 'same-origin',
...   'Sec-Fetch-Mode': 'cors',
...   'Referer': '## DYNAMIC CONTENT ##',  # expects the url of the posting resource here! must be overwritten by url of the posting in ChainMap implementation
...   'Accept-Encoding': 'gzip, deflate, br',
...   'Accept-Language': 'en-US,en;q=0.9,fi;q=0.8',
... }
>>> 
>>> GET_REQUEST_HEADERS
{'Host': 'glacial-earth-31542.herokuapp.com', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'Upgrade-Insecure-Requests': '1', 'Sec-Fetch-Dest': 'document', 'Accept': 'application/json', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Referer': 'https://glacial-earth-31542.herokuapp.com/api/postings/', 'Accept-Encoding': 'gzip, deflate, br', 'Accept-Language': 'en-US,en;q=0.9,fi;q=0.8'}
>>> overwriting_get_headers = {'ACCEPT_TEXT_HTML_HEADER' : 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9'}
>>> ultimate_get_headers = ChainMap(overwriting_get_headers, GET_REQUEST_HEADERS)
>>> 
>>> delete_posting_form_get_response = session.get(url=posting_to_delete['url'], headers=ultimate_get_headers)
>>> delete_posting_form_get_response.status_code
200
>>> delete_posting_form_get_response.text
'{"url":"https://glacial-earth-31542.herokuapp.com/api/postings/2344/","id":2344,"user":1,"title":"Needs to be deleted","content":"slÃ¶sihagh","timestamp":"2020-04-13T12:41:48.920914+03:00"}'
>>> 
>>> 
>>> overwriting_get_headers = {'Accept' : 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9'}
>>> ultimate_get_headers = ChainMap(overwriting_get_headers, GET_REQUEST_HEADERS)
>>> 
>>> delete_posting_form_get_response = session.get(url=posting_to_delete['url'], headers=ultimate_get_headers)
>>> delete_posting_form_get_response.status_code
200
>>> delete_posting_form_get_response.text
'\n\n\n\n<!DOCTYPE html>\n<html>\n  <head>\n    \n\n      \n        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>\n        <meta name="robots" content="NONE,NOARCHIVE" />\n      \n\n      <title>Blog Post Rud – Django REST framework</title>\n\n      \n        \n          <link rel="stylesheet" type="text/css" href="/static/rest_framework/css/bootstrap.min.css"/>\n          <link rel="stylesheet" type="text/css" href="/static/rest_framework/css/bootstrap-tweaks.css"/>\n        \n\n        <link rel="stylesheet" type="text/css" href="/static/rest_framework/css/prettify.css"/>\n        <link rel="stylesheet" type="text/css" href="/static/rest_framework/css/default.css"/>\n        \n      \n\n    \n  </head>\n\n  \n  <body class="">\n\n    <div class="wrapper">\n      \n        <div class="navbar navbar-static-top navbar-inverse"\n             role="navigation" aria-label="navbar">\n          <div class="container">\n            <span>\n              \n                <a class=\'navbar-brand\' rel="nofollow" href=\'https://www.django-rest-framework.org/\'>\n                    Django REST framework\n                </a>\n              \n            </span>\n            <ul class="nav navbar-nav pull-right">\n              \n                \n                  <li class="navbar-text">hakan</li>\n                \n              \n            </ul>\n          </div>\n        </div>\n      \n\n      <div class="container">\n        \n          <ul class="breadcrumb">\n            \n              \n                <li><a href="/api/postings/">Blog Post Api</a></li>\n              \n            \n              \n                <li class="active"><a href="/api/postings/2344/">Blog Post Rud</a></li>\n              \n            \n          </ul>\n        \n\n        <!-- Content -->\n        <div id="content" role="main" aria-label="content">\n          \n\n          <div class="region"  aria-label="request form">\n          \n          \n          \n            <form id="get-form" class="pull-right">\n              <fieldset>\n                \n                  <div class="btn-group format-selection">\n                    <a class="btn btn-primary js-tooltip" href="/api/postings/2344/" rel="nofollow" title="Make a GET request on the Blog Post Rud resource">GET</a>\n\n                    <button class="btn btn-primary dropdown-toggle js-tooltip" data-toggle="dropdown" title="Specify a format for the GET request">\n                      <span class="caret"></span>\n                    </button>\n                    <ul class="dropdown-menu">\n                      \n                        <li>\n                          <a class="js-tooltip format-option" href="/api/postings/2344/?format=json" rel="nofollow" title="Make a GET request on the Blog Post Rud resource with the format set to `json`">json</a>\n                        </li>\n                      \n                        <li>\n                          <a class="js-tooltip format-option" href="/api/postings/2344/?format=api" rel="nofollow" title="Make a GET request on the Blog Post Rud resource with the format set to `api`">api</a>\n                        </li>\n                      \n                    </ul>\n                  </div>\n                \n              </fieldset>\n            </form>\n          \n\n          \n            <form class="button-form" action="/api/postings/2344/" data-method="OPTIONS">\n              <button class="btn btn-primary js-tooltip" title="Make an OPTIONS request on the Blog Post Rud resource">OPTIONS</button>\n            </form>\n          \n\n          \n            <button class="btn btn-danger button-form js-tooltip" title="Make a DELETE request on the Blog Post Rud resource" data-toggle="modal" data-target="#deleteModal">DELETE</button>\n\n            <!-- Delete Modal -->\n            <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\n              <div class="modal-dialog">\n                <div class="modal-content">\n                  <div class="modal-body">\n                    <h4 class="text-center">Are you sure you want to delete this Blog Post Rud?</h4>\n                  </div>\n                  <div class="modal-footer">\n                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>\n                    <form class="button-form" action="/api/postings/2344/" data-method="DELETE">\n                      <button class="btn btn-danger">Delete</button>\n                    </form>\n                  </div>\n                </div>\n              </div>\n            </div>\n          \n\n          \n\n          \n\n          \n          </div>\n\n            <div class="content-main" role="main"  aria-label="main content">\n              <div class="page-header">\n                <h1>Blog Post Rud</h1>\n              </div>\n              <div style="float:left">\n                \n                  <p></p>\n                \n              </div>\n\n              \n\n              <div class="request-info" style="clear: both" aria-label="request info">\n                <pre class="prettyprint"><b>GET</b> /api/postings/2344/</pre>\n              </div>\n\n              <div class="response-info" aria-label="response info">\n                <pre class="prettyprint"><span class="meta nocode"><b>HTTP 200 OK</b>\n<b>Allow:</b> <span class="lit">GET, PUT, PATCH, DELETE, HEAD, OPTIONS</span>\n<b>Content-Type:</b> <span class="lit">application/json</span>\n<b>Vary:</b> <span class="lit">Accept</span>\n\n</span>{\n    &quot;url&quot;: &quot;<a href="https://glacial-earth-31542.herokuapp.com/api/postings/2344/" rel="nofollow">https://glacial-earth-31542.herokuapp.com/api/postings/2344/</a>&quot;,\n    &quot;id&quot;: 2344,\n    &quot;user&quot;: 1,\n    &quot;title&quot;: &quot;Needs to be deleted&quot;,\n    &quot;content&quot;: &quot;slösihagh&quot;,\n    &quot;timestamp&quot;: &quot;2020-04-13T12:41:48.920914+03:00&quot;\n}</pre>\n              </div>\n            </div>\n\n            \n              \n\n              \n                <div class="tabbable">\n                  \n                    <ul class="nav nav-tabs form-switcher">\n                      <li>\n                        <a name=\'html-tab\' href="#put-object-form" data-toggle="tab">HTML form</a>\n                      </li>\n                      <li>\n                        <a  name=\'raw-tab\' href="#put-generic-content-form" data-toggle="tab">Raw data</a>\n                      </li>\n                    </ul>\n                  \n\n                  <div class="well tab-content">\n                    \n                      <div class="tab-pane" id="put-object-form">\n                        <form action="/api/postings/2344/" data-method="PUT" enctype="multipart/form-data" class="form-horizontal" novalidate>\n                          <fieldset>\n                            \n\n  \n\n  \n\n  \n\n  \n    <div class="form-group ">\n  \n    <label class="col-sm-2 control-label ">\n      Title\n    </label>\n  \n\n  <div class="col-sm-10">\n    <input name="title" class="form-control" type="text"  value="Needs to be deleted" >\n\n    \n\n    \n  </div>\n</div>\n\n  \n\n  \n    <div class="form-group ">\n  \n    <label class="col-sm-2 control-label ">\n      Content\n    </label>\n  \n\n  <div class="col-sm-10">\n    <textarea name="content" class="form-control"  >slösihagh</textarea>\n\n    \n\n    \n  </div>\n</div>\n\n  \n\n  \n\n\n                            <div class="form-actions">\n                              <button class="btn btn-primary js-tooltip" title="Make a PUT request on the Blog Post Rud resource">PUT</button>\n                            </div>\n                          </fieldset>\n                        </form>\n                      </div>\n                    \n\n                    <div class="tab-pane" id="put-generic-content-form">\n                      \n                        <form action="/api/postings/2344/" data-method="PUT" class="form-horizontal">\n                          <fieldset>\n                            \n\n\n  <div class="form-group">\n    <label for="id__content_type" class="col-sm-2 control-label">Media type:</label>\n    <div class="col-sm-10">\n      <select name="_content_type" data-override="content-type" id="id__content_type" class="form-control">\n  <option value="application/json" selected>application/json</option>\n\n  <option value="application/x-www-form-urlencoded">application/x-www-form-urlencoded</option>\n\n  <option value="multipart/form-data">multipart/form-data</option>\n\n</select>\n      <span class="help-block"></span>\n    </div>\n  </div>\n\n  <div class="form-group">\n    <label for="id__content" class="col-sm-2 control-label">Content:</label>\n    <div class="col-sm-10">\n      <textarea name="_content" cols="40" rows="10" data-override="content" id="id__content" class="form-control">\n{\n    &quot;url&quot;: &quot;https://glacial-earth-31542.herokuapp.com/api/postings/2344/&quot;,\n    &quot;id&quot;: 2344,\n    &quot;user&quot;: 1,\n    &quot;title&quot;: &quot;Needs to be deleted&quot;,\n    &quot;content&quot;: &quot;slösihagh&quot;,\n    &quot;timestamp&quot;: &quot;2020-04-13T12:41:48.920914+03:00&quot;\n}</textarea>\n      <span class="help-block"></span>\n    </div>\n  </div>\n\n\n                            <div class="form-actions">\n                              \n                                <button class="btn btn-primary js-tooltip" title="Make a PUT request on the Blog Post Rud resource">PUT</button>\n                              \n                              \n                              <button data-method="PATCH" class="btn btn-primary js-tooltip" title="Make a PATCH request on the Blog Post Rud resource">PATCH</button>\n                                \n                            </div>\n                          </fieldset>\n                        </form>\n                      \n                    </div>\n                  </div>\n                </div>\n              \n            \n          \n        </div><!-- /.content -->\n      </div><!-- /.container -->\n    </div><!-- ./wrapper -->\n\n    \n\n    \n      <script>\n        window.drf = {\n          csrfHeaderName: "X-CSRFTOKEN",\n          csrfToken: "JZj98FBiMbqnloUWfTK0KSzXwogqvCqueBWKjEmpqszX2ZDqadtIye3U6X9q3jEg"\n        };\n      </script>\n      <script src="/static/rest_framework/js/jquery-3.4.1.min.js"></script>\n      <script src="/static/rest_framework/js/ajax-form.js"></script>\n      <script src="/static/rest_framework/js/csrf.js"></script>\n      <script src="/static/rest_framework/js/bootstrap.min.js"></script>\n      <script src="/static/rest_framework/js/prettify-min.js"></script>\n      <script src="/static/rest_framework/js/default.js"></script>\n      <script>\n        $(document).ready(function() {\n          $(\'form\').ajaxForm();\n        });\n      </script>\n    \n\n  </body>\n  \n</html>\n'
>>> 
>>> 
>>> 
>>> csrfmiddlewaretoken = 'JZj98FBiMbqnloUWfTK0KSzXwogqvCqueBWKjEmpqszX2ZDqadtIye3U6X9q3jEg'
>>> 
>>> DELETE_REQUEST_HEADERS
{'Host': 'glacial-earth-31542.herokuapp.com', 'Connection': 'keep-alive', 'Origin': 'https://glacial-earth-31542.herokuapp.com', 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8', 'Accept': 'text/html; q=1.0, */*', 'Sec-Fetch-Dest': 'empty', 'X-Requested-With': 'XMLHttpRequest', 'X-CSRFTOKEN': '## DYNAMIC CONTENT ##', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Referer': '## DYNAMIC CONTENT ##', 'Accept-Encoding': 'gzip, deflate, br', 'Accept-Language': 'en-US,en;q=0.9,fi;q=0.8'}
>>> 
>>> 
>>> overwriting_delete_headers = {'X-CSRFTOKEN': csrfmiddlewaretoken, 'Referer': posting_to_delete['url'] }
>>> ultimate_delete_headers = ChainMap( overwriting_delete_headers, DELETE_REQUEST_HEADERS )
>>> 
>>> delete_posting_response = session.delete(url=posting_to_delete['url'], data=posting_to_delete, headers=ultimate_delete_headers)
>>> delete_posting_response.status_code
200
>>> 

